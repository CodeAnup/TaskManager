<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Task Manager</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>

<body class="bg-zinc-900 text-white min-h-screen flex flex-col items-center px-4 py-10">
  <!-- Heading -->
  <h1 class="text-3xl font-bold text-zinc-100 mb-8 tracking-tight text-center">📝 Task Manager</h1>

  <!-- Form Section -->
  <div class="w-full max-w-xl bg-zinc-800 p-8 rounded-2xl shadow-2xl">
    <form action="/create" method="post" class="space-y-6">
      <!-- Task Title -->
      <input type="text" name="title" placeholder="Enter Task Title"
        class="w-full px-4 py-3 rounded-xl bg-zinc-700 text-white placeholder-zinc-400 focus:outline-none focus:ring-2 focus:ring-zinc-500" required />

      <!-- Task Details -->
      <textarea name="details" rows="6" placeholder="Enter Task Details"
        class="w-full px-4 py-3 rounded-xl bg-zinc-700 text-white placeholder-zinc-400 resize-none focus:outline-none focus:ring-2 focus:ring-zinc-500" required></textarea>

      <!-- Submit Button -->
      <button
        class="w-full bg-indigo-600 hover:bg-indigo-500 text-white font-semibold py-3 px-6 rounded-xl transition-all duration-300">
        ➕ Create Task
      </button>
    </form>
  </div>

  <!-- Tasks Container -->
 <div class="tasks-wrapper w-full max-w-6xl mt-16">
  <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">
    <% if (files.length > 0) { %>
      <% files.forEach(function(val, index){ %>
        <div class="task bg-zinc-800 rounded-2xl p-6 shadow-xl hover:scale-105 transition-transform duration-300">
          <!-- <h3 class="text-xl font-semibold mb-3">📌 Task <%= index + 1 %></h3> -->
          <p class="text-zinc-300 font-semibold text-xl mb-6 truncate">📌 <%= val %></p>
          
          <!-- Read More Button -->
          <button class="w-full bg-indigo-600 hover:bg-indigo-500 text-white py-2 px-4 rounded-lg text-sm transition duration-200 mb-2">
            <a href="/file/<%= val %>">Read more</a>
          </button>

          <!-- Edit Link -->
          <div class="text-center">
            <a href="/edit/<%= val %>" class="text-sm text-indigo-400 hover:text-indigo-300 transition">
              ✏️ Edit Task
            </a>
          </div>
        </div>
      <% }) %>
    <% } else { %>
      <div id="no-tasks-message" class="col-span-full text-center text-zinc-400 text-lg py-10">
        🚫 No tasks yet.
      </div>
    <% } %>
  </div>
</div>

</body>

</html>
